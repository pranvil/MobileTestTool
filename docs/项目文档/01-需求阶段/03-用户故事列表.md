# MobileTestTool 用户故事列表

## 文档信息

| 项目 | 内容 |
|------|------|
| **文档版本** | 1.0 |
| **创建日期** | 2025-11-03 |
| **最后更新** | 2025-11-03 |

---

## 用户故事格式说明

**格式**：作为 [角色]，我希望 [功能]，以便 [价值]

**验收标准**：
- Given [前置条件]
- When [操作]
- Then [预期结果]

---

## P0 - 必须有（MVP核心功能）

### US-001: 设备连接

**作为** 测试工程师  
**我希望** 能够快速连接Android设备  
**以便** 开始测试工作

**优先级**：P0  
**故事点**：3

**验收标准**：
- Given 设备已通过USB连接且启用了USB调试
- When 我点击"刷新设备"按钮
- Then 系统应该显示设备列表，我可以选择设备进行连接

**详细需求**：
- 自动检测USB连接的设备
- 显示设备ID、型号、状态
- 支持手动刷新设备列表
- 显示连接状态（已连接/离线/未授权）

---

### US-002: 查看设备信息

**作为** 测试工程师  
**我希望** 能够一键获取设备的详细信息  
**以便** 快速了解测试环境

**优先级**：P0  
**故事点**：2

**验收标准**：
- Given 设备已连接
- When 我点击"获取设备信息"按钮
- Then 系统应该显示设备的详细信息（型号、Android版本、IMEI等）

**详细需求**：
- 设备基本信息（型号、Android版本、API级别）
- 设备标识（IMEI、序列号）
- 硬件信息（屏幕分辨率、存储）

---

### US-003: 实时日志过滤

**作为** 测试工程师  
**我希望** 能够实时过滤ADB日志中的特定内容  
**以便** 快速定位问题

**优先级**：P0  
**故事点**：5

**验收标准**：
- Given 设备已连接且日志正在输出
- When 我输入关键字并点击"开始过滤"
- Then 系统应该实时显示匹配的日志行

**详细需求**：
- 支持关键字过滤
- 支持正则表达式
- 支持大小写敏感/不敏感
- 支持排除模式
- 过滤延迟 < 100ms
- 可以保存过滤后的日志

---

### US-004: 保存日志

**作为** 测试工程师  
**我希望** 能够保存过滤后的日志到文件  
**以便** 后续分析和分享

**优先级**：P0  
**故事点**：1

**验收标准**：
- Given 日志过滤正在进行
- When 我点击"保存日志"按钮
- Then 系统应该将日志保存到文件，并显示保存路径

**详细需求**：
- 支持选择保存位置
- 文件命名包含时间戳
- 文件格式为文本文件

---

## P1 - 应该有（主要功能）

### US-101: MTKLOG管理

**作为** 测试工程师  
**我希望** 能够开启和导出MTKLOG  
**以便** 收集完整的系统日志

**优先级**：P1  
**故事点**：5

**验收标准**：
- Given 设备支持MTKLOG
- When 我选择存储模式并点击"开启"
- Then 系统应该开启MTKLOG并显示运行状态
- When 我点击"停止&导出"
- Then 系统应该停止MTKLOG并导出到PC

**详细需求**：
- 支持SD模式和USB模式
- 自动执行初始化序列
- 显示运行状态
- 自动导出到PC指定目录

---

### US-102: 网络信息监控

**作为** 测试工程师  
**我希望** 能够实时查看设备的网络信息  
**以便** 了解网络连接状态

**优先级**：P1  
**故事点**：3

**验收标准**：
- Given 设备已连接
- When 我点击"开始获取网络信息"
- Then 系统应该实时显示蜂窝网络和WiFi信息

**详细需求**：
- 显示运营商、信号强度、网络类型
- 显示WiFi SSID、IP地址等信息
- 实时更新（每秒或按需）

---

### US-103: 设备截图

**作为** 测试工程师  
**我希望** 能够快速截取设备屏幕  
**以便** 记录测试结果

**优先级**：P1  
**故事点**：2

**验收标准**：
- Given 设备已连接
- When 我点击"截图"按钮
- Then 系统应该截取屏幕并保存到文件

**详细需求**：
- 一键截图
- 自动保存到指定目录
- 文件命名包含时间戳

---

### US-104: 应用安装

**作为** 测试工程师  
**我希望** 能够通过界面安装APK  
**以便** 快速部署测试应用

**优先级**：P1  
**故事点**：3

**验收标准**：
- Given 设备已连接
- When 我选择APK文件并点击"安装"
- Then 系统应该安装应用并显示安装结果

**详细需求**：
- 选择APK文件
- 显示安装进度
- 显示安装结果（成功/失败）
- 错误信息提示

---

### US-105: 应用卸载

**作为** 测试工程师  
**我希望** 能够快速卸载应用  
**以便** 清理测试环境

**优先级**：P1  
**故事点**：2

**验收标准**：
- Given 设备已连接
- When 我输入包名并点击"卸载"
- Then 系统应该卸载应用并显示结果

**详细需求**：
- 输入应用包名
- 确认卸载操作
- 显示卸载结果

---

## P2 - 可以有（高级功能）

### US-201: 自定义按钮

**作为** 高级用户  
**我希望** 能够创建自定义功能按钮  
**以便** 快速执行常用操作

**优先级**：P2  
**故事点**：5

**验收标准**：
- Given 我在"管理自定义按钮"界面
- When 我填写按钮信息并保存
- Then 按钮应该立即显示在指定位置

**详细需求**：
- 支持5种按钮类型（ADB命令、Python脚本、文件、程序、系统命令）
- 可以选择所属Tab和Card
- 支持导入/导出配置
- 动态加载，无需重启

---

### US-202: Tab管理

**作为** 用户  
**我希望** 能够自定义Tab的显示和顺序  
**以便** 个性化界面布局

**优先级**：P2  
**故事点**：3

**验收标准**：
- Given 我在主界面
- When 我拖拽Tab标题
- Then Tab顺序应该更新并保存
- When 我在Tab管理中隐藏某个Tab
- Then 该Tab应该不再显示

**详细需求**：
- 拖拽排序
- 显示/隐藏控制
- 创建自定义Tab和Card
- 配置自动保存

---

### US-203: SIM APDU解析

**作为** 测试工程师  
**我希望** 能够解析SIM卡APDU消息  
**以便** 分析SIM卡通信

**优先级**：P2  
**故事点**：8

**验收标准**：
- Given 我有MTK日志文件或APDU文本
- When 我加载文件到APDU解析器
- Then 系统应该解析并显示详细信息

**详细需求**：
- 支持多种数据格式
- 自动识别和分类
- 详细的TLV结构解析
- 搜索和过滤功能

---

### US-204: SIM卡读写

**作为** 测试工程师  
**我希望** 能够读写SIM卡数据  
**以便** 配置和测试SIM卡

**优先级**：P2  
**故事点**：8

**验收标准**：
- Given SIM卡已连接
- When 我在SIM读写工具中选择EF文件并读取
- Then 系统应该显示文件数据
- When 我修改数据并写入
- Then 系统应该更新SIM卡数据

**详细需求**：
- GUI和CLI两种模式
- 读取和写入EF文件
- PIN码验证
- 批量操作支持

---

### US-205: 主题切换

**作为** 用户  
**我希望** 能够切换界面主题（暗色/亮色）  
**以便** 适应不同的使用环境

**优先级**：P2  
**故事点**：2

**验收标准**：
- Given 我在主界面
- When 我点击主题切换按钮
- Then 界面主题应该立即切换

**详细需求**：
- 支持暗色和亮色主题
- 主题偏好自动保存
- 切换流畅无闪烁

---

### US-206: 多语言支持

**作为** 国际用户  
**我希望** 能够切换界面语言  
**以便** 使用我熟悉的语言

**优先级**：P2  
**故事点**：3

**验收标准**：
- Given 我在主界面
- When 我点击语言切换按钮
- Then 界面语言应该立即切换（中文/英文）

**详细需求**：
- 支持中文和英文
- 语言偏好自动保存
- 所有文本都应该翻译

---

## 用户故事汇总

| 优先级 | 数量 | 故事点总计 |
|--------|------|-----------|
| P0 | 4 | 11 |
| P1 | 5 | 15 |
| P2 | 6 | 29 |
| **总计** | **15** | **55** |

**MVP版本**（P0 + P1）：26个故事点，预计8-10周

**完整版本**（全部）：55个故事点，预计16-20周

---

## 用户故事地图

```
MVP核心功能
├── 设备管理
│   ├── US-001: 设备连接 (P0)
│   └── US-002: 查看设备信息 (P0)
├── 日志管理
│   ├── US-003: 实时日志过滤 (P0)
│   └── US-004: 保存日志 (P0)
└── 主要功能
    ├── US-101: MTKLOG管理 (P1)
    ├── US-102: 网络信息监控 (P1)
    ├── US-103: 设备截图 (P1)
    ├── US-104: 应用安装 (P1)
    └── US-105: 应用卸载 (P1)

高级功能
├── 自定义功能
│   ├── US-201: 自定义按钮 (P2)
│   └── US-202: Tab管理 (P2)
├── SIM卡工具
│   ├── US-203: SIM APDU解析 (P2)
│   └── US-204: SIM卡读写 (P2)
└── 界面增强
    ├── US-205: 主题切换 (P2)
    └── US-206: 多语言支持 (P2)
```

---

## 迭代计划建议

### 迭代1（Week 1-3）：MVP核心功能
- US-001: 设备连接
- US-002: 查看设备信息
- US-003: 实时日志过滤
- US-004: 保存日志

### 迭代2（Week 4-6）：日志和网络功能
- US-101: MTKLOG管理
- US-102: 网络信息监控

### 迭代3（Week 7-9）：设备操作
- US-103: 设备截图
- US-104: 应用安装
- US-105: 应用卸载

### 迭代4（Week 10-12）：高级功能
- US-201: 自定义按钮
- US-202: Tab管理
- US-205: 主题切换
- US-206: 多语言支持

### 迭代5（Week 13+）：SIM卡工具
- US-203: SIM APDU解析
- US-204: SIM卡读写

---

**文档状态**：✅ 待评审

