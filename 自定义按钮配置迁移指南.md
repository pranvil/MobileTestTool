# 自定义按钮配置迁移指南

## 📋 升级前准备

当您收到新版本的MobileTestTool时，请按照以下步骤保存您的自定义按钮配置：

### 🔄 方法1：使用程序内置功能（推荐）

#### 步骤1：备份当前配置
1. 打开当前版本的MobileTestTool
2. 切换到**"其他"**标签页
3. 点击**"🔧 管理自定义按钮"**
4. 点击**"💾 备份"**按钮
5. 程序会自动创建备份文件：`C:\Users\{用户名}\.netui\custom_buttons_backup.json`

#### 步骤2：安装新版本
1. 关闭当前程序
2. 安装新版本的MobileTestTool
3. 启动新版本程序

#### 步骤3：恢复配置
1. 在新版本中切换到**"其他"**标签页
2. 点击**"🔧 管理自定义按钮"**
3. 点击**"📥 恢复"**按钮
4. 选择之前备份的文件：`custom_buttons_backup.json`
5. 确认恢复，所有自定义按钮将重新出现

---

### 📁 方法2：手动文件操作

#### 步骤1：找到配置文件
配置文件位置：`C:\Users\{用户名}\.netui\custom_buttons.json`

#### 步骤2：复制配置文件
1. 复制 `custom_buttons.json` 文件到安全位置（如桌面）
2. 重命名为 `custom_buttons_backup.json`

#### 步骤3：安装新版本
1. 安装新版本程序
2. 将备份的配置文件复制到新位置：`C:\Users\{用户名}\.netui\custom_buttons.json`

---

### 📤 方法3：导出/导入功能

#### 步骤1：导出配置
1. 在管理界面点击**"📤 导出"**
2. 选择保存位置（如桌面）
3. 文件名建议：`我的自定义按钮配置.json`

#### 步骤2：安装新版本后导入
1. 在新版本中点击**"📥 导入"**
2. 选择之前导出的文件
3. 配置会自动合并到新版本中

---

## ⚠️ 注意事项

### 配置文件位置
- **Windows**: `C:\Users\{用户名}\.netui\custom_buttons.json`
- **备份文件**: `C:\Users\{用户名}\.netui\custom_buttons_backup.json`

### 兼容性说明
- ✅ 配置文件格式向后兼容
- ✅ 支持跨版本迁移
- ✅ 自动处理编码问题

### 故障排除

#### 问题1：找不到配置文件
**解决方案：**
- 检查用户目录权限
- 确认路径是否正确
- 使用程序内置的备份功能

#### 问题2：导入失败
**解决方案：**
- 检查JSON文件格式是否正确
- 尝试使用不同的编码方式
- 查看程序日志文件

#### 问题3：按钮位置变化
**解决方案：**
- 新版本可能调整了卡片名称
- 使用管理界面重新调整按钮位置
- 参考新版本的卡片名称列表

---

## 🚀 升级流程总结

### 快速升级（3步）
1. **备份** → 点击"💾 备份"
2. **安装** → 安装新版本
3. **恢复** → 点击"📥 恢复"

### 详细升级（5步）
1. **检查配置** → 查看当前有多少个自定义按钮
2. **备份配置** → 使用备份功能保存配置
3. **安装新版本** → 替换程序文件
4. **恢复配置** → 导入备份文件
5. **验证功能** → 测试所有自定义按钮

---

## 📞 技术支持

如果遇到问题：
1. 查看程序日志：`logs/debug_*.txt`
2. 检查配置文件格式
3. 联系技术支持团队

---

## 💡 最佳实践

### 定期备份
- 建议每次添加重要按钮后都进行备份
- 可以创建多个备份文件（按日期命名）

### 配置分享
- 使用导出功能可以分享配置给团队成员
- 导出的文件包含完整的按钮信息

### 版本管理
- 为不同版本创建不同的备份文件
- 在备份文件名中包含版本号

---

**祝升级顺利！🎉**

